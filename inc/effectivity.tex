\section{\centering МЕТОДИКА И ОЦЕНКА ЕË ЭФФЕКТИВНОСТИ}

Основными критериями выбора методики являются {\it гибкость} использования,
{\it скорость} и {\it точность} работы. В связи с этим в качестве итогового алгоритма 
детектирования кисти и извлечения её конфигурации был взят следующий:
\begin{enumerate}
	\item Входное изображение разбивается на два множества "фон"\ и "передняя часть"\ с помощью
метода MoG. Ранее было указано, что данный метод обладает свойством {\it обучения}, что позволяет
его использовать в системах реального времени без жёсткого задания вида фона изображения.
В свою очередь данный факт приводит к {\it гибкому} использованию данного алгоритма.
	\item "Передняя часть"\ изображения кисти переводится в бинарное изображение,
искусственно размывается и подвергается обработке методом Оцу, удаляя неточности, 
возникшие в результате первого шага. На данном этапе принимается, что кисть 
полностью отделилась от фона.
	\item На изображении кисти производится поиск контура с помощью топологического
структурного анализа цифрового бинарного изображения с помощью отслеживания границ. 
Если найденных контуров несколько, то выбирается контур с наибольшей площадью, найденной
по формуле площади Гаусса. На данном этапе контур кисти считается найденным.
	\item Выполняется поиск точки центра масс контура с помощью формулы (\ref{centroid-equat}).
Данная точка является центром ладони кисти.
	\item Строится выпуклая оболочка точек контура кисти с помощью алгоритма Грэхема. 
	\item На основе выпуклой оболочки, найденной на шаге 4, и контура, найденного на шаге 3,
находятся дефекты выпуклости, которые являются точками пальцев кисти. 
	\item Точка центра ладони кисти и точки, найденные на шаге 6, составляют конфигурацию кисти,
а именно её расположение в кадре и количество выгнутых пальцев.
\end{enumerate}

Проведём тестирование данной методики. Входные данные -- видеофрагмент длительностью
20 секунд с частотой кадров 30 кадров в секунду, то есть $20\cdot30 = 600$ кадров.
Выходные данные -- последовательность изображений в виде кадров из видеофрагмента
с результатами работы.

При просмотре результатов, что
при резких перемещениях кисти руки в кадре алгоритм не надолго "сбивается"\ вследствие 
переобучения метода MoG, из-за этого на некоторых кадрах ладонь была распознана не точно и,
соответственно остальные шаги выполнены неверно. Численные результаты
представлены в таблице \ref{results-table}. 

Таким образом, точность детектирования
равна $\frac{473}{600} = 0.79$, а точность извлечения конфигурации 
$\frac{358}{600} = 0.597$.

\begin{table}[h]
\begin{center}
\begin{tabular}{|l|c|}\hline
Всего изображений & 600 \\ \hline
Кисть верно распознана & 473 \\ \hline
Конфигурация кисти верно определена & 358 \\ \hline
\end{tabular}
\end{center}
\caption{\label{results-table} Результаты работы алгоритма.}
\end{table}

Разбор причин неверного определения конфигурации кисти показал, что при жесте "V"\ с двумя 
пальцами, безымянный палец и мизинец слегка выходят за границу ладони, вследствие чего данные
пальцы были указаны как вытянутые и итоговое количество пальцев равно 4, что является неверным.
Можно сделать вывод, что данная методика отлично работает при несложных движениях кисти, таких
как сжатие в кулак, вытягивание пальцев по одному, либо по несколько, если пальцы
расположены поодаль друг от друга. 



